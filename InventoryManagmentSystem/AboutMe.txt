$("#addEmployeeModal").on('click', '.btn-success', function () {
    // Get the value of a cookie named "your_cookie_name"
    var cookieValue = getCookie("your_cookie_name");

    // Check if the cookie value exists
    if (cookieValue) {
        var data = {
            BrandName: $("#addEmployeeModal input[name='addBrandName']").val()
        };

        // Append the cookie value to the URL
        var url = "/Brand/AddNewBrand?cookieValue=" + encodeURIComponent(cookieValue);

        $.ajax({
            type: "POST",
            url: url, // Use the modified URL
            data: data,
            dataType: "json",
            success: function (result) {
                if (result.success) {
                    // Handle success, e.g., show a success message and close the modal
                    alert("Brand added successfully");
                    loadDataIntoTable(); // Load table data
                    $("#addEmployeeModal").modal('hide');
                } else {
                    // Handle failure, e.g., display an error message
                    alert(result.message);
                }
            },
            error: function () {
                // Handle AJAX error
                alert("An error occurred while processing your request.");
            }
        });
    } else {
        // Handle the case where the cookie value doesn't exist
        alert("Cookie 'your_cookie_name' not found.");
    }
});

// Function to get the value of a cookie by name
function getCookie(cookieName) {
    var name = cookieName + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var cookieArray = decodedCookie.split(';');
    for (var i = 0; i < cookieArray.length; i++) {
        var cookie = cookieArray[i];
        while (cookie.charAt(0) == ' ') {
            cookie = cookie.substring(1);
        }
        if (cookie.indexOf(name) == 0) {
            return cookie.substring(name.length, cookie.length);
        }
    }
    return null;
}
